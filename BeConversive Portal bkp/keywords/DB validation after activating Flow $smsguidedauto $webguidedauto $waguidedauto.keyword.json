{
  "modifiedOn": "2024-02-08T06:49:50.953Z",
  "name": "DB validation after activating Flow $smsguidedauto $webguidedauto $waguidedauto",
  "id": "28378",
  "type": 3,
  "createdOn": "2024-02-08T06:49:50.953Z",
  "content": {
    "isSystemKeyword": false,
    "title": "DB validation after activating Flow $smsguidedauto $webguidedauto $waguidedauto",
    "parameters": [
      {
        "parameterId": "smsguidedauto_",
        "entityTypeId": "smsguidedauto",
        "suffix": ""
      },
      {
        "parameterId": "webguidedauto_",
        "entityTypeId": "webguidedauto",
        "suffix": ""
      },
      {
        "parameterId": "waguidedauto_",
        "entityTypeId": "waguidedauto",
        "suffix": ""
      }
    ],
    "steps": [
      {
        "commented": true,
        "isRawScript": true,
        "rawScript": "var $smsSenderID1\u003d$smsguidedauto.smsSenderID1;"
      },
      {
        "commented": true,
        "isRawScript": true,
        "rawScript": "var $webSenderID1\u003d$webguidedauto.webSenderID1;"
      },
      {
        "commented": true,
        "isRawScript": true,
        "rawScript": "var $waSenderID1\u003d$waguidedauto.webSenderID1;"
      },
      {
        "commented": true,
        "isRawScript": true,
        "rawScript": "var $db \u003d _getDB(\"com.mysql.jdbc.Driver\", \"jdbc:mysql://127.0.0.1/smsmagic\", \"admin_portal\",\"Smd3v$Au321\");\nvar $rs \u003d $db.select(\"select bot_status from incoming_config where accountId \u003d\u0027\"+$account+\"\u0027 and shortCode \u003d \u0027\"+$smsSenderID1+\"\u0027 \");\nvar $bot_status\u003d $rs[0][0];\n_assertEqual($bot_status, 1)\n\nvar $rs1 \u003d $db.select(\"select start_bot from chatbot_config where account_id \u003d\u0027\"+$account+\"\u0027 and sender_id \u003d \u0027\"+$smsSenderID1+\"\u0027 \");\nvar $start_bot\u003d $rs1[0][0];\n_assertEqual($start_bot, 2)\n\n\nvar $rs \u003d $db.select(\"select bot_status from incoming_config where accountId \u003d\u0027\"+$account+\"\u0027 and shortCode \u003d \u0027\"+$webSenderID1+\"\u0027 \");\nvar $bot_status1\u003d $rs[0][0];\n_assertEqual($bot_status1, 1);\n\nvar $rs2 \u003d $db.select(\"select start_bot from chatbot_config where account_id \u003d\u0027\"+$account+\"\u0027 and sender_id \u003d \u0027\"+$webSenderID1+\"\u0027 \");\nvar $start_bot1\u003d $rs2[0][0];\n_assertEqual($start_bot1, 2);\n\nvar $rs \u003d $db.select(\"select bot_status from incoming_config where accountId \u003d\u0027\"+$account+\"\u0027 and shortCode \u003d \u0027\"+$waSenderID1+\"\u0027 \");\nvar $bot_status2\u003d $rs[0][0];\n_assertEqual($bot_status2, 1)\n\nvar $rs3 \u003d $db.select(\"select start_bot from chatbot_config where account_id \u003d\u0027\"+$account+\"\u0027 and sender_id \u003d \u0027\"+$waSenderID1+\"\u0027 \");\nvar $start_bot2\u003d $rs3[0][0];\n_assertEqual($start_bot2, 2)"
      }
    ]
  },
  "enabled": false,
  "parentId": ""
}