{
  "modifiedOn": "2024-01-12T12:26:20.503Z",
  "name": "Database validation after EditingFlow and deselecting $waguidedauto $smsguidedauto",
  "id": "21116",
  "type": 3,
  "createdOn": "2023-12-07T06:37:15.182Z",
  "content": {
    "isSystemKeyword": false,
    "title": "Database validation after EditingFlow and deselecting $waguidedauto $smsguidedauto",
    "parameters": [
      {
        "parameterId": "waguidedauto_",
        "entityTypeId": "waguidedauto",
        "suffix": ""
      },
      {
        "parameterId": "smsguidedauto_",
        "entityTypeId": "smsguidedauto",
        "suffix": ""
      }
    ],
    "steps": [
      {
        "commented": true,
        "isRawScript": true,
        "rawScript": "var $waSenderID1\u003d$waguidedauto.waSenderID1;"
      },
      {
        "commented": true,
        "isRawScript": true,
        "rawScript": "var $smsSenderID1\u003d$smsguidedauto.smsSenderID1;"
      },
      {
        "commented": true,
        "isRawScript": true,
        "rawScript": "var $db \u003d _getDB(\"com.mysql.jdbc.Driver\", \"jdbc:mysql://127.0.0.1/smsmagic\", \"admin_portal\",\"Smd3v$Au321\");\nvar $rs \u003d $db.select(\"select bot_status from incoming_config where accountId \u003d\u0027\"+$account+\"\u0027 and shortCode \u003d \u0027\"+$waSenderID1+\"\u0027 \");\nvar $bot_status\u003d $rs[0][0];\n_assertEqual($bot_status, 0)\n\nvar $rs1 \u003d $db.select(\"select is_active from chatbot_config where account_id \u003d\u0027\"+$account+\"\u0027 and sender_id \u003d \u0027\"+$waSenderID1+\"\u0027 \");\nvar $is_active\u003d $rs1[0][0];\n_assertEqual($is_active, 0)\n\n\n\nvar $rs \u003d $db.select(\"select bot_status from incoming_config where accountId \u003d\u0027\"+$account+\"\u0027 and shortCode \u003d \u0027\"+$smsSenderID1+\"\u0027 \");\nvar $bot_status1\u003d $rs[0][0];\n_assertEqual($bot_status1, 1)\n\nvar $rs2 \u003d $db.select(\"select start_bot from chatbot_config where account_id \u003d\u0027\"+$account+\"\u0027 and sender_id \u003d \u0027\"+$smsSenderID1+\"\u0027 \");\nvar $start_bot1\u003d $rs2[0][0];\n_assertEqual($start_bot1, 2)"
      }
    ]
  },
  "enabled": false,
  "parentId": ""
}