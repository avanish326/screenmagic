{
  "modifiedOn": "2024-02-15T09:23:16.991Z",
  "name": "Verify messages in SMS History for Financial Appoinment Flow when select CTA as Yes $financialflow $webform",
  "id": "29518",
  "type": 3,
  "createdOn": "2024-02-15T08:19:07.593Z",
  "content": {
    "isSystemKeyword": false,
    "title": "Verify messages in SMS History for Financial Appoinment Flow when select CTA as Yes $financialflow $webform",
    "parameters": [
      {
        "parameterId": "financialflow_",
        "entityTypeId": "financialflow",
        "suffix": ""
      },
      {
        "parameterId": "webform_",
        "entityTypeId": "webform",
        "suffix": ""
      }
    ],
    "steps": [
      {
        "commented": false,
        "action": "_click",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_link(\"/Incoming Messages/\")"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": false,
        "isRawScript": true,
        "rawScript": "var $countryCodeVar1\u003d$webform.countryCode;\nvar $countryCodeVar\u003d$countryCodeVar1.split(\"+\")[1].trim()\n_log($countryCodeVar);\n\nvar $phoneNumberNew\u003d$webform.phoneWebForm;\n\nvar $phoneNumberVar\u003d$countryCodeVar+$phoneNumberNew;"
      },
      {
        "commented": false,
        "action": "_getText",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_cell(2, _near(_div($financialflow.firstCTA)))"
          }
        ],
        "stepType": "Assert",
        "assertType": "Equals",
        "secondaryParam": {
          "isCustomParameter": true,
          "customValue": "$phoneNumberVar"
        }
      },
      {
        "commented": false,
        "action": "_getText",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_div($financialflow.firstCTA)"
          }
        ],
        "stepType": "Assert",
        "assertType": "Equals",
        "secondaryParam": {
          "parameterId": "financialflow_",
          "attributeId": "attr_01707981409555"
        },
        "visibleCheck": false
      },
      {
        "commented": false,
        "action": "_getText",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_cell(2, _near(_div($financialflow.ctaYesNo)))"
          }
        ],
        "stepType": "Assert",
        "assertType": "Equals",
        "secondaryParam": {
          "isCustomParameter": true,
          "customValue": "$phoneNumberVar"
        }
      },
      {
        "commented": false,
        "action": "_getText",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_cell($financialflow.ctaYesNo)"
          }
        ],
        "stepType": "Assert",
        "assertType": "Equals",
        "secondaryParam": {
          "parameterId": "financialflow_",
          "attributeId": "attr_11707981756368"
        },
        "visibleCheck": false
      },
      {
        "commented": false,
        "action": "_getText",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_cell(2, _near(_div($financialflow.ctaTalkHoursOnlineNone)))"
          }
        ],
        "stepType": "Assert",
        "assertType": "Equals",
        "secondaryParam": {
          "isCustomParameter": true,
          "customValue": "$phoneNumberVar"
        }
      },
      {
        "commented": false,
        "action": "_getText",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_div($financialflow.ctaTalkHoursOnlineNone)"
          }
        ],
        "stepType": "Assert",
        "assertType": "Equals",
        "secondaryParam": {
          "parameterId": "financialflow_",
          "attributeId": "attr_21707982385569"
        },
        "visibleCheck": false
      },
      {
        "commented": false,
        "action": "_click",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_link(\"/Outgoing Messages/\")"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": false,
        "action": "_getText",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_cell(2, _near(_div(\"Hi there! Welcome to [Your FI Name]! My name is {Insert preferred name here} .\")))"
          }
        ],
        "stepType": "Assert",
        "assertType": "Equals",
        "secondaryParam": {
          "isCustomParameter": true,
          "customValue": "$phoneNumberVar"
        }
      },
      {
        "commented": false,
        "action": "_getText",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_div(\"Hi there! Welcome to [Your FI Name]! My name is {Insert preferred name here} .\")"
          }
        ],
        "stepType": "Assert",
        "assertType": "Equals",
        "secondaryParam": {
          "isCustomParameter": true,
          "customValue": "\"Hi there! Welcome to [Your FI Name]! My name is {Insert preferred name here} .\""
        }
      },
      {
        "commented": false,
        "action": "_getText",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_cell(2, _near(_div(\"Here\u0027s a link {insert link to appropriate appointment calendar} to our appointment calendar. Please select the date and time that works for you and include any additional details. Thank you, [User\u0027s Name]! Is there anything else we can help you with?\")))"
          }
        ],
        "stepType": "Assert",
        "assertType": "Equals",
        "secondaryParam": {
          "isCustomParameter": true,
          "customValue": "$phoneNumberVar"
        }
      },
      {
        "commented": false,
        "action": "_getText",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_div(\"Here\u0027s a link {insert link to appropriate appointment calendar} to our appointment calendar. Please select the date and time that works for you and include any additional details. Thank you, [User\u0027s Name]! Is there anything else we can help you with?\")"
          }
        ],
        "stepType": "Assert",
        "assertType": "Equals",
        "secondaryParam": {
          "isCustomParameter": true,
          "customValue": "\"Here\u0027s a link {insert link to appropriate appointment calendar} to our appointment calendar. Please select the date and time that works for you and include any additional details. Thank you, [User\u0027s Name]! Is there anything else we can help you with?\""
        }
      },
      {
        "commented": false,
        "action": "_getText",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_cell(2, _near(_div(\"What else can I help you with today?\")))"
          }
        ],
        "stepType": "Assert",
        "assertType": "Equals",
        "secondaryParam": {
          "isCustomParameter": true,
          "customValue": "$phoneNumberVar"
        }
      },
      {
        "commented": false,
        "action": "_getText",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_div(\"What else can I help you with today?\")"
          }
        ],
        "stepType": "Assert",
        "assertType": "Equals",
        "secondaryParam": {
          "isCustomParameter": true,
          "customValue": "\"What else can I help you with today?\""
        }
      },
      {
        "commented": false,
        "action": "_getText",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_cell(2, _near(_div(\"Here\u0027s the phone number {FI phone number } to contact a representative Thank you and have a great day.\")))"
          }
        ],
        "stepType": "Assert",
        "assertType": "Equals",
        "secondaryParam": {
          "isCustomParameter": true,
          "customValue": "$phoneNumberVar"
        }
      },
      {
        "commented": false,
        "action": "_getText",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_div(\"Here\u0027s the phone number {FI phone number } to contact a representative Thank you and have a great day.\")"
          }
        ],
        "stepType": "Assert",
        "assertType": "Equals",
        "secondaryParam": {
          "isCustomParameter": true,
          "customValue": "\"Here\u0027s the phone number {FI phone number } to contact a representative Thank you and have a great day.\""
        }
      },
      {
        "commented": false,
        "action": "_getText",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_cell(2, _near(_div(\"\"+$financialflow.responseLastQuestion+\" Thank you and have a great day.\")))"
          }
        ],
        "stepType": "Assert",
        "assertType": "Equals",
        "secondaryParam": {
          "isCustomParameter": true,
          "customValue": "$phoneNumberVar"
        }
      },
      {
        "commented": false,
        "action": "_getText",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_div(\"\"+$financialflow.responseLastQuestion+\" Thank you and have a great day.\")"
          }
        ],
        "stepType": "Assert",
        "assertType": "Equals",
        "secondaryParam": {
          "isCustomParameter": true,
          "customValue": "\"\"+$financialflow.responseLastQuestion+\" Thank you and have a great day.\""
        }
      },
      {
        "commented": false,
        "action": "_getText",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_div(\"You are now connected with \"+$agentnameCheck+\". Please continue the conversation.\")"
          }
        ],
        "stepType": "Assert",
        "assertType": "Equals",
        "secondaryParam": {
          "isCustomParameter": true,
          "customValue": "\"You are now connected with \"+$agentnameCheck+\". Please continue the conversation.\""
        }
      }
    ]
  },
  "enabled": false,
  "parentId": ""
}