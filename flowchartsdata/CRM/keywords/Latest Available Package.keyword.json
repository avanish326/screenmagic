{
  "modifiedOn": "2024-02-13T07:01:38.320Z",
  "name": "Latest Available Package",
  "id": "22983",
  "type": 3,
  "createdOn": "2024-01-30T12:38:28.882Z",
  "content": {
    "isSystemKeyword": false,
    "title": "Latest Available Package",
    "parameters": [],
    "steps": [
      {
        "commented": false,
        "action": "_click",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_italic(\"keyboard_arrow_down\")"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": false,
        "action": "_getText",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_paragraph(0, _near(_label(\"SMS-Magic App version\")))"
          }
        ],
        "stepType": "Store",
        "secondaryParam": {
          "isCustomParameter": true,
          "customValue": "$installedSalesforcePackage"
        }
      },
      {
        "commented": false,
        "isRawScript": true,
        "rawScript": "if (parseFloat($latestSalesforceVersion) \u003c\u003d parseFloat($installedSalesforcePackage) ){"
      },
      {
        "commented": false,
        "action": "_isVisible",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_div(\"latest-package\")"
          }
        ],
        "stepType": "Assert",
        "assertType": "Is_False"
      },
      {
        "commented": false,
        "isRawScript": true,
        "rawScript": "} else {"
      },
      {
        "commented": false,
        "action": "_getText",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_div(\"latest-package\")"
          }
        ],
        "stepType": "Assert",
        "assertType": "Equals",
        "secondaryParam": {
          "isCustomParameter": true,
          "customValue": "\"Version 1.73 available Details\""
        }
      },
      {
        "commented": false,
        "action": "_click",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_italic(\"open_in_new\", _near(_label(\"Salesforce Org URL\")))"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": false,
        "action": "_selectWindow",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "\"Salesforce - Developer Edition\""
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": false,
        "action": "_click",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_link(\"SMS-Magic Converse\")"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": false,
        "action": "_wait",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "5000"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": false,
        "action": "_selectWindow",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "\"Converse Home | SMS-Magic\""
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": false,
        "action": "_isVisible",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_button(\"Converse Settings\")"
          }
        ],
        "stepType": "Assert",
        "assertType": "Is_True"
      },
      {
        "commented": false,
        "action": "_click",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_button(\"Converse Settings\")"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": true,
        "action": "_selectWindow",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "\"Version 1.73 - SMS-Magic Converse Release Notes\""
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": true,
        "action": "_click",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_image(\"Close\")"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": true,
        "action": "_getText",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_link(\"https://www.sms-magic.com/docs/converse-release-notes/knowledge-base-category/patch-release/\")"
          }
        ],
        "stepType": "Assert",
        "assertType": "Equals",
        "secondaryParam": {
          "isCustomParameter": true,
          "customValue": "\"Patch Release\""
        }
      },
      {
        "commented": false,
        "action": "_selectWindow",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "\"Converse Settings | SMS-Magic\""
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": false,
        "action": "_wait",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "5000"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": false,
        "action": "_click",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_paragraph(\"Registration \u0026 Setup\")"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": false,
        "action": "_click",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_heading4(\"1. Destination Country and Server Location\")"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": false,
        "isRawScript": true,
        "rawScript": "_selectWindow(\"Converse Settings | SMS-Magic\")\n\nvar $country \u003d _getText(_paragraph(\"/selected-value/\",_near(_paragraph(\"Destination Country\"))))\n_log($country)\n\nvar $serverLocation \u003d _getText(_paragraph(\"/selected-value/\",_near(_paragraph(\"Server Location\"))))\n_log($serverLocation)\n\n\n\n"
      },
      {
        "commented": false,
        "action": "_click",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_heading4(\"2. Registration, OAuth Sync and Remote Site Setting\")"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": false,
        "isRawScript": true,
        "rawScript": "_selectWindow(\"Converse Settings | SMS-Magic\")\n\nvar $ApiKey \u003d _getText(_div(0,_near(_paragraph(\"apiKeyInput\"))))\n_log($ApiKey)"
      },
      {
        "commented": false,
        "action": "_click",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_heading4(\"3. Plan Selection\")"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": false,
        "isRawScript": true,
        "rawScript": "_selectWindow(\"Converse Settings | SMS-Magic\")\n\nvar $selectedPlan \u003d _getText(_listItem(\"plan-block selected\"))\n\n_log($selectedPlan)"
      },
      {
        "commented": false,
        "action": "_click",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_paragraph(\"User Management\")"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": false,
        "isRawScript": true,
        "rawScript": "_selectWindow(\"Converse Settings | SMS-Magic\")\n\n\nvar $licenses \u003d _collect(\"_div\",\"licenses\",_under(_heading3(\"Available User Licenses\")));\nvar $licensesNum \u003d [];\nfor(var $i\u003d0; $i\u003c$licenses.length; $i++)\n{\n$licensesNum.push(_getText(_paragraph(0,_in($licenses[$i]))))\n}\n_log($licensesNum)\n\nvar $userNames \u003d_collectAttributes(\"_cell\",\"/.*/\",\"sahiText\",_under(_tableHeader(\"User Name\")),_in(_div(\"usertableList\")));\n_log($userNames)\n\n\nvar $profiles\u003d_collectAttributes(\"_cell\",\"/.*/\",\"sahiText\",_under(_tableHeader(\"Profile\")),_in(_div(\"usertableList\")))\n_log($profiles)\n\nfor(var $i\u003d0;$i\u003c$userNames.length; $i++){\n_assertVisible(_cell($profiles[$i]),\"This\" +$userNames[$i]+\"has profile\"+$profiles[$i]);\n}"
      },
      {
        "commented": false,
        "isRawScript": true,
        "rawScript": "\n_selectWindow(\"Converse Settings | SMS-Magic\")\n\nvar $userNames \u003d_collectAttributes(\"_cell\",\"/.*/\",\"sahiText\",_under(_tableHeader(\"User Name\")),_in(_div(\"usertableList\")));\n_log($userNames)\n\n\nvar $profiles\u003d_collectAttributes(\"_cell\",\"/.*/\",\"sahiText\",_under(_tableHeader(\"Profile\")),_in(_div(\"usertableList\")))\n//_log($profiles)\n\nfor(var $i\u003d0;$i\u003c$userNames.length; $i++){\n_assertVisible(_cell($profiles[$i]),\"This\" +$userNames[$i]+\"has profile\"+$profiles[$i]);\n}"
      },
      {
        "commented": false,
        "isRawScript": true,
        "rawScript": "_selectWindow(\"Converse Settings | SMS-Magic\")\n_assertEqual(\"test\",_getText(_cell(0,_rightOf(_cell(\"Jagruti USerOne (jagruti.bhangale+move5user1@screen-magic.com)\")),_under(_div(\"Profile\")))))"
      },
      {
        "commented": false,
        "action": "_click",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_paragraph(\"Message Configuration\")"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": false,
        "isRawScript": true,
        "rawScript": "\n_selectWindow(\"Converse Settings | SMS-Magic\")\nvar $objects \u003d _collectAttributes(\"_div\",\"/parent-block smagicinteractObjectPicker/\",\"sahiText\",_under(_listItem(\"Object Name\")))\n_log($objects)\n\nvar $NameFileds \u003d_collectAttributes(\"_div\",\"/smagicinteractFieldPicker/\",\"sahiText\",_under(_listItem(\"Name field\")))\n_log($NameFileds)\n\n\nvar $phoneFeilds \u003d _collectAttributes(\"_div\",\"/smagicinteractFieldPicker/\",\"sahiText\",_under(__listItem(\"Phone Fields\")));\n_log($phoneFeilds)\n\n\nfor(var $i\u003d0;$i\u003c$phoneFeilds.length; $i++){\n_assertEqual($NameFileds[$i],_getText(_span(0,_rightOf(_span($objects[$i])))))\n}\n\n"
      },
      {
        "commented": false,
        "action": "_click",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_paragraph(\"Sender ID Assignment\")"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": false,
        "isRawScript": true,
        "rawScript": "_selectWindow(\"Converse Settings | SMS-Magic\")\n\nvar $senderId \u003d _collectAttributes(\"_lightning_formatted_text\",\"/.*/\",\"value\",_under(_listItem(\"Sender ID\")),_in(_list(\"detailObject\")))\n\n\n\nvar $channel \u003d_collectAttributes(\"_lightning_formatted_text\",\"/.*/\",\"value\",_under(_listItem(\"CHANNEL(s)\")),_in(_list(\"detailObject\")));\n\nfor(var $i\u003d0; $i\u003c$senderId.length-1;$i++){\n_assertVisible(_lightning_formatted_text({\"value\":$channel[$i]}),\"This channel is for \"+$senderId[$i])\n}\n\n\n\n\n\n\n\n//_collectAttributes(\"_div\",\"/parent-block smagicinteractObjectPicker/\",\"sahiText\",_under(_listItem(\"Sender ID\")))"
      },
      {
        "commented": false,
        "action": "_click",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_paragraph(\"Compliance Configured\")"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": false,
        "isRawScript": true,
        "rawScript": "_selectWindow(\"Converse Settings | SMS-Magic\")\n\nvar $selectedOne \u003d_getText(_parentNode(_div(\"/Selected/\",_in(_div(\"consent-mode-detail\"))),\"DIV\"));\n_log($selectedOne)\n\nvar $enabled \u003d _getAttribute(_div(\"/EnabledDisabled/\",_rightOf(_heading3(\"Consent Record Expiry\"))),\"class\")\n_log($enabled)\n"
      },
      {
        "commented": false,
        "action": "_click",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_paragraph(\"Consent Method \u0026 Content\")"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": false,
        "isRawScript": true,
        "rawScript": "_selectWindow(\"Converse Settings | SMS-Magic\")\n\n\n//var $automatedConversation _getText(_button(\"pro\",_under(_paragraph(\"Automated Conversations\"),50)))\n\n //_getAttribute(_span(0,_in(_span(\"slds-checkbox_faux\"))),\"className\")\n//_log($automatedConversation)\n\n//var $bulkConversation \u003d _getText(_font(0,_leftOf(_span(\"slds-checkbox_faux\"))))\n//_log($bulkConversation)\n\n//var $interactiveConversation \u003d //_getText(_button(\"/pro/\",_near(_paragraph(\"Interactive Conversations\"))))\n//_log($interactiveConversation)\n\n\n"
      },
      {
        "commented": false,
        "action": "_click",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_paragraph(\"Double Opt-in\")"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": false,
        "isRawScript": true,
        "rawScript": "_selectWindow(\"Converse Settings | SMS-Magic\")\n\n\nvar $doubleConfig \u003d _collectAttributes(\"_div\", \"/.*/\",\"sahiText\", _under(_span(\"SOURCE\")));\n//_log($doubleConfig)\n\nvar $source \u003d _collectAttributes(\"_lightBasetext\",\"/.*/\",\"value\",_under(_span(\"SOURCE\")));\n_collectAttributes(\"_lightBasetext\",\"/.*/\",\"value\",_under(_span(\"SENDER ID\"),50));\n\n"
      },
      {
        "commented": false,
        "action": "_click",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_paragraph(\"Keyword Management\")"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": false,
        "isRawScript": true,
        "rawScript": "_selectWindow(\"Converse Settings | SMS-Magic\")\n\nvar $enabled \u003d _collectAttributes(\"_lightBasetext\",\"/.*/\",\"value\",_under(_div(\"STATUS\")));\n\nvar $types \u003d _collectAttributes(\"_lightBasetext\",\"/.*/\",\"value\",_under(_div(\"TYPE\")));\n \nfor(var $i\u003d0; $i\u003c$types.length; $i++){\n_assertEqual($enabled[$i],_getValue(_lightBasetext(0,_rightOf(_lightBasetext($types[$i])),_under(_div(\"STATUS\")))))\n}"
      },
      {
        "commented": false,
        "action": "_click",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_paragraph(\"Conversations Configured\")"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": false,
        "action": "_click",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_link(\"General Settings\")"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": false,
        "isRawScript": true,
        "rawScript": "_selectWindow(\"Converse Settings | SMS-Magic\");\n\nif(_isVisible(_heading3(\"Auto Pull Incoming Messages When OAuth Gets Revoked\"))){\nvar $enable \u003d _getText(_span(\"/slds-checkbox/[2]\",_rightOf(_heading3(\"Auto Pull Incoming Messages When OAuth Gets Revoked\"))))\n_log($enable);\n}\n\n\nvar $objects \u003d _collectAttributes(\"_lightBasetext\",\"/.*/\",\"value\",_under(_div(\"Objects\")));\nvar $crmActions \u003d_collectAttributes(\"_lightBasetext\",\"/.*/\",\"value\",_under(_div(\"CRM Action\")));\n\nfor(var $i\u003d0; $i\u003c$crmActions.length; $i++){\n_assertEqual($crmActions[$i],_getValue(_lightBasetext(0,_rightOf(_lightBasetext($objects[$i])))))\n_assertVisible($objects[$i],\"This object is for \"+$crmActions[$i])\n}\n"
      },
      {
        "commented": true,
        "action": "_click",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_span(\"Details\")"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": true,
        "action": "_click",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_button(\"Update Version 1.73 now\")"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": true,
        "action": "_wait",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "900000"
          },
          {
            "isCustomParameter": true,
            "customValue": "_div(\"sucess-configure\", _near(_label(\"SMS-Magic App version\")))"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": true,
        "action": "_getText",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_paragraph(0, _near(_label(\"SMS-Magic App version\")))"
          }
        ],
        "stepType": "Assert",
        "assertType": "Equals",
        "secondaryParam": {
          "isCustomParameter": true,
          "customValue": "$latestSalesforceVersion"
        }
      },
      {
        "commented": false,
        "isRawScript": true,
        "rawScript": "}"
      }
    ]
  },
  "enabled": false,
  "parentId": ""
}