{
  "modifiedOn": "2024-05-21T04:58:09.676Z",
  "name": "Check if message contains merge fields then replace with data",
  "id": "46176",
  "type": 3,
  "createdOn": "2024-05-20T13:09:07.993Z",
  "content": {
    "isSystemKeyword": false,
    "title": "Check if message contains merge fields then replace with data",
    "parameters": [],
    "steps": [
      {
        "commented": false,
        "action": "_containsText",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_textarea(\"messageText\")"
          },
          {
            "isCustomParameter": true,
            "customValue": "\"${contacts.\""
          }
        ],
        "stepType": "Store",
        "secondaryParam": {
          "isCustomParameter": true,
          "customValue": "$firstNameMergeField"
        }
      },
      {
        "commented": false,
        "isRawScript": true,
        "rawScript": "if ($firstNameMergeField\u003dtrue)\n{\n   $templateTextNew\u003d$templateText.replace(\"${contacts.first_name}\", $firstname)\n   .replace(\"${contacts.last_name}\", $lastname)\n   .replace(\"${contacts.mobile_number}\", $MobileNum)\n\n}"
      },
      {
        "commented": false,
        "action": "_log",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "$templateTextNew"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": true,
        "action": "_containsText",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_textarea(\"messageText\")"
          },
          {
            "isCustomParameter": true,
            "customValue": "\"${contacts.last_name}\""
          }
        ],
        "stepType": "Store",
        "secondaryParam": {
          "isCustomParameter": true,
          "customValue": "$lastNameMergeField"
        }
      }
    ]
  },
  "enabled": false,
  "parentId": ""
}