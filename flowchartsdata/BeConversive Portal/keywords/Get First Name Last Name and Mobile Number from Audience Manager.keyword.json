{
  "modifiedOn": "2024-05-20T16:47:35.586Z",
  "name": "Get First Name Last Name and Mobile Number from Audience Manager",
  "id": "45917",
  "type": 3,
  "createdOn": "2024-05-09T08:17:10.770Z",
  "content": {
    "isSystemKeyword": false,
    "title": "Get First Name Last Name and Mobile Number from Audience Manager",
    "parameters": [],
    "steps": [
      {
        "commented": true,
        "action": "_count",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "\"_tableHeader\""
          },
          {
            "isCustomParameter": true,
            "customValue": "\"/.*/\""
          },
          {
            "isCustomParameter": true,
            "customValue": "_in(_row(0))"
          }
        ],
        "stepType": "Store",
        "secondaryParam": {
          "isCustomParameter": true,
          "customValue": "$header"
        }
      },
      {
        "commented": false,
        "isRawScript": true,
        "rawScript": "$header \u003d _collectAttributes(\"_tableHeader\",\"/.*/\",\"sahiText\",_in(_row(0)));\n$mobileNum \u003d $header.indexOf(\"Mobile Number\");\n$firstName \u003d $header.indexOf(\"First Name\");\n$lastName \u003d $header.indexOf(\"Last Name\");\n$mobileNumber \u003d [];\n$FirstName \u003d [];\n$LastName \u003d [];\n$details \u003d [];"
      },
      {
        "commented": false,
        "action": "_count",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "\"_cell\""
          },
          {
            "isCustomParameter": true,
            "customValue": "\"/.*/\""
          },
          {
            "isCustomParameter": true,
            "customValue": "_under(_tableHeader(\"Mobile Number\"))"
          }
        ],
        "stepType": "Store",
        "secondaryParam": {
          "isCustomParameter": true,
          "customValue": "$count"
        }
      },
      {
        "commented": false,
        "isRawScript": true,
        "rawScript": "for (var $i\u003d1;$i\u003c\u003d$count;$i++){\n"
      },
      {
        "commented": true,
        "action": "_containsText",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_row($i)"
          },
          {
            "isCustomParameter": true,
            "customValue": "$audiencesearch.searchText"
          }
        ],
        "stepType": "Assert",
        "assertType": "Is_True"
      },
      {
        "commented": false,
        "action": "_getText",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_cell($mobileNum,_in(_row($i)))"
          }
        ],
        "stepType": "Store",
        "secondaryParam": {
          "isCustomParameter": true,
          "customValue": "$MobileNum"
        }
      },
      {
        "commented": false,
        "isRawScript": true,
        "rawScript": "$mobileNumber.push($MobileNum)"
      },
      {
        "commented": false,
        "action": "_log",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "$mobileNumber"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": false,
        "action": "_getText",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_cell($firstName,_in(_row($i)))"
          }
        ],
        "stepType": "Store",
        "secondaryParam": {
          "isCustomParameter": true,
          "customValue": "$firstname"
        }
      },
      {
        "commented": false,
        "isRawScript": true,
        "rawScript": "$FirstName.push($firstname)"
      },
      {
        "commented": false,
        "action": "_log",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "$FirstName"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": false,
        "action": "_getText",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_cell($lastName,_in(_row($i)))"
          }
        ],
        "stepType": "Store",
        "secondaryParam": {
          "isCustomParameter": true,
          "customValue": "$lastname"
        }
      },
      {
        "commented": false,
        "isRawScript": true,
        "rawScript": "$LastName.push($lastname)"
      },
      {
        "commented": false,
        "action": "_log",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "$LastName"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": false,
        "isRawScript": true,
        "rawScript": "$format \u003d $firstname+\" \"+$lastname+\" (\"+$MobileNum+\")\" \n\nif($format.includes(\"-\")){\n$format \u003d $format.replace(\"- \",\"\")\n}\n\n$details.push($format)\n_log($details)\n\n$details \u003d $details.sort()\n_log($details)\n\n"
      },
      {
        "commented": false,
        "isRawScript": true,
        "rawScript": "}"
      },
      {
        "commented": true,
        "action": "_click",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_div(\"Select Connected Integration\")"
          },
          {}
        ],
        "stepType": "Action"
      },
      {
        "commented": true,
        "action": "_click",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_div(\"/Audience Manager/\",_in(_div(\"Select Connected Integration\")))"
          },
          {}
        ],
        "stepType": "Action"
      },
      {
        "commented": true,
        "isRawScript": true,
        "rawScript": "//_call(_sahi.blurEnabled\u003dtrue)\n_click(_div(\"Select Connected Integration\"), null)\n//_click(_div(\"/Audience Manager/\",_in(_div(\"Select Connected Integration\"),25)))\n//_focus(_div(\"/menu/\"))\n//_click(_div(\"/option-0/\"))\n_exists(_div(\"react-select-20-listbox\"))"
      },
      {
        "commented": true,
        "action": "_wait",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "5000"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": true,
        "action": "_setValue",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_textbox(0,_in(_div(\"Toâ€‹\")))"
          },
          {
            "isCustomParameter": true,
            "customValue": "\"pra\""
          },
          {}
        ],
        "stepType": "Action"
      },
      {
        "commented": true,
        "isRawScript": true,
        "rawScript": "var $detailsNew \u003d _collectAttributes(\"_listItem\",\"/.*/\",\"sahiText\",_in(_list(\"MuiAutocomplete-listbox\")))\n_log($detailsNew)\n$detailsNew \u003d $detailsNew.sort()\n_assertEqual($details,$detailsNew)"
      },
      {
        "commented": true,
        "action": "_click",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_listItem($detailsNew[0])"
          }
        ],
        "stepType": "Action"
      },
      {
        "commented": true,
        "isRawScript": true,
        "rawScript": "$phoneNumber \u003d $detailsNew[0].split(\"(\")[1].split(\")\")[0]\n\n"
      },
      {
        "commented": true,
        "action": "_getText",
        "stepParameters": [
          {
            "isCustomParameter": true,
            "customValue": "_textbox(0,_in(_div(\"/Phone Number/\")))"
          }
        ],
        "stepType": "Assert",
        "assertType": "Equals",
        "secondaryParam": {
          "isCustomParameter": true,
          "customValue": "$phoneNumber"
        }
      }
    ]
  },
  "enabled": false,
  "parentId": ""
}